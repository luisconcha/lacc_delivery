<ion-view>
    <ion-nav-title>Order</ion-nav-title>
    <div class="bar bar-subheader">
        <button ng-click="openListProducts()" class="button button-dark button-icon button-clear ion-plus"></button>
        <h2 class="title">Total: R${{total}}</h2>
        <button class="button button-icon ion-minus-circled"
                ng-click="showDelete = !showDelete" ng-class="{'button-clear button-assertive': showDelete,'':!showDelete}">
        </button>
    </div>
    <ion-content class="padding has-subheader">
        <ion-list show-delete="showDelete">
            <ion-item  ng-show="cupom.value != null" ng-class="{'item-balanced item-icon-left': !showDelete, 'item-stable': showDelete}">
                <span class="icon ion-close" ng-click="removeCupom()"></span>
                <strong>Cupom</strong>
                <span ng-class="{'badge badge-balanced': !showDelete,'badge': showDelete}"> - R$ {{cupom.value}}</span>
            </ion-item>
            <ion-item ng-repeat="item in items" ng-click="openProductDetail($index)">
                <h2>{{item.name}}</h2>
                <div class="row">
                    <div class="col">
                        Qtd: {{item.qtd}}<br>
                        <i class="ion ion-cash"> {{item.price}}</i>
                    </div>
                    <div class="col text-right">
                        <i class="ion ion-social-usd"> {{item.qtd * item.price}}</i>
                    </div>
                </div>
                <ion-delete-button class="ion ion-minus-circled" ng-click="removeItem($index)"></ion-delete-button>
            </ion-item>
        </ion-list>
        <button class="button button-balanced button-full" type="button" ng-click="readyBarCode()"
                ng-disabled="cupom.value != null">
            Add coupon
        </button>
        <button class="button button-assertive button-full" type="button" ng-click="save()">
            Save order
        </button>
    </ion-content>
</ion-view>